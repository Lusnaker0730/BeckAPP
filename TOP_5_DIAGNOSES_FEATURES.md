# å‰äº”å¤§è¨ºæ–· - é«˜ç´šåŠŸèƒ½èªªæ˜

## ğŸ“Š åŠŸèƒ½ç¸½è¦½

æˆ‘å€‘ç‚ºã€Œå‰äº”å¤§è¨ºæ–·ã€åœ–è¡¨æ·»åŠ äº† 4 å€‹å¼·å¤§çš„æ–°åŠŸèƒ½ï¼Œè®“æ•¸æ“šåˆ†ææ›´åŠ æ·±å…¥å’Œéˆæ´»ã€‚

---

## âœ¨ åŠŸèƒ½ 1ï¼šç™¾åˆ†æ¯”é¡¯ç¤º

### ğŸ“ˆ åŠŸèƒ½æè¿°
- åœ¨æ¯å€‹æŸ±ç‹€åœ–ä¸Šç›´æ¥é¡¯ç¤ºç™¾åˆ†æ¯”ï¼ˆç™½è‰²ç²—é«”æ–‡å­—ï¼‰
- æ»‘é¼ æ‡¸åœæ™‚é¡¯ç¤ºè©³ç´°ä¿¡æ¯ï¼ˆäººæ¬¡ + ç™¾åˆ†æ¯”ï¼‰
- è‡ªå‹•è¨ˆç®—æ¯å€‹è¨ºæ–·ä½”ç¸½æ•¸çš„æ¯”ä¾‹

### ğŸ¯ ä½¿ç”¨å ´æ™¯
```
å ´æ™¯ï¼šå¿«é€Ÿäº†è§£è¨ºæ–·åˆ†å¸ƒ
æ“ä½œï¼šæŸ¥çœ‹åœ–è¡¨
çµæœï¼šç«‹å³çœ‹åˆ° "Viral sinusitis" ä½” 27.1%
```

### ğŸ’¡ æŠ€è¡“å¯¦ç¾
- **å‰ç«¯**ï¼šä½¿ç”¨ `chartjs-plugin-datalabels` æ’ä»¶
- **å¾Œç«¯**ï¼šè¨ˆç®—ä¸¦è¿”å› `percentages` æ•¸çµ„
- **é¡è‰²**ï¼šç™½è‰²æ–‡å­—ï¼Œåœ¨æ·±è‰²èƒŒæ™¯ä¸Šæ¸…æ™°å¯è¦‹

### ğŸ“· è¦–è¦ºæ•ˆæœ
```
æŸ±ç‹€åœ–é ‚éƒ¨é¡¯ç¤ºï¼š
â”Œâ”€â”€â”€â”€â”€â”
â”‚27.1%â”‚ â† ç™½è‰²ç™¾åˆ†æ¯”
â””â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š åŠŸèƒ½ 2ï¼šè¶¨å‹¢ç®­é ­ï¼ˆå¹´åº¦å°æ¯”ï¼‰

### ğŸ“ˆ åŠŸèƒ½æè¿°
- è‡ªå‹•æ¯”è¼ƒç•¶å‰å¹´ä»½å€é–“èˆ‡ä¸Šä¸€å¹´ä»½å€é–“
- é¡¯ç¤ºè¶¨å‹¢æŒ‡æ¨™ï¼š
  - â†—ï¸ **ä¸Šå‡**ï¼ˆç´…è‰²ï¼‰ï¼šå¢åŠ è¶…é 5%
  - â†˜ï¸ **ä¸‹é™**ï¼ˆç¶ è‰²ï¼‰ï¼šæ¸›å°‘è¶…é 5%
  - â†’ **ç©©å®š**ï¼ˆç°è‰²ï¼‰ï¼šè®ŠåŒ–åœ¨ Â±5% å…§
  - âœ¨ **æ–°å¢**ï¼ˆè—è‰²ï¼‰ï¼šä¸Šä¸€æœŸé–“æ²’æœ‰æ­¤è¨ºæ–·

### ğŸ¯ ä½¿ç”¨å ´æ™¯
```
å ´æ™¯ï¼šè¿½è¹¤ç–¾ç—…è¶¨å‹¢
æ“ä½œï¼šé¸æ“‡å¹´ä»½å€é–“ 2020-2024
çµæœï¼šçœ‹åˆ° "Acute viral pharyngitis" â†—ï¸ ä¸Šå‡ 45.3%
èªªæ˜ï¼šèˆ‡ 2015-2019 å¹´ç›¸æ¯”ï¼Œè©²è¨ºæ–·äººæ•¸å¤§å¹…å¢åŠ 
```

### ğŸ’¡ è¶¨å‹¢è¨ˆç®—é‚è¼¯
```python
ç•¶å‰å€é–“ï¼š2020-2024ï¼ˆ5 å¹´ï¼‰
ä¸Šä¸€å€é–“ï¼š2015-2019ï¼ˆ5 å¹´ï¼‰â† è‡ªå‹•è¨ˆç®—

è®ŠåŒ–ç‡ = ((ç•¶å‰äººæ¬¡ - ä¸Šä¸€æœŸäººæ¬¡) / ä¸Šä¸€æœŸäººæ¬¡) Ã— 100%

if è®ŠåŒ–ç‡ > 5%:   è¶¨å‹¢ = "ä¸Šå‡" â†—ï¸
elif è®ŠåŒ–ç‡ < -5%: è¶¨å‹¢ = "ä¸‹é™" â†˜ï¸
else:              è¶¨å‹¢ = "ç©©å®š" â†’
```

### ğŸ“· è¦–è¦ºæ•ˆæœ
```
è¶¨å‹¢åˆ†æé¢æ¿ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¶¨å‹¢åˆ†æ (ç›¸æ¯”ä¸Šä¸€æœŸé–“)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â†—ï¸  Viral sinusitis         ä¸Šå‡ 15.3% â”‚
â”‚ â†˜ï¸  Acute viral pharyngitis ä¸‹é™ 8.7%  â”‚
â”‚ â†’  Acute bronchitis         ç©©å®š       â”‚
â”‚ âœ¨  Normal pregnancy         æ–°å¢       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¾ åŠŸèƒ½ 3ï¼šå°å‡ºåŠŸèƒ½

### ğŸ“ˆ åŠŸèƒ½æè¿°
- **CSV æ ¼å¼**ï¼šExcel å¯ç›´æ¥æ‰“é–‹ï¼Œæ”¯æŒä¸­æ–‡ï¼ˆBOMï¼‰
- **JSON æ ¼å¼**ï¼šçµæ§‹åŒ–æ•¸æ“šï¼ŒåŒ…å«å®Œæ•´å…ƒæ•¸æ“š
- åŒ…å«æ‰€æœ‰ä¿¡æ¯ï¼šæ’åã€è¨ºæ–·åç¨±ã€äººæ¬¡ã€ç™¾åˆ†æ¯”ã€è¶¨å‹¢ã€è®ŠåŒ–ç‡

### ğŸ¯ ä½¿ç”¨å ´æ™¯

#### å ´æ™¯ Aï¼šå°å‡ºçµ¦ç®¡ç†å±¤
```
éœ€æ±‚ï¼šè‘£äº‹æœƒéœ€è¦ 2023 å¹´åº¦è¨ºæ–·å ±å‘Š
æ“ä½œï¼š
1. é¸æ“‡å¹´ä»½ï¼š2023-2023
2. é»æ“Šã€ŒğŸ“Š CSVã€æŒ‰éˆ•
3. æ–‡ä»¶åï¼šå‰äº”å¤§è¨ºæ–·_2023-2023_2025-10-29.csv
çµæœï¼šExcel è¡¨æ ¼ï¼Œå¯ç›´æ¥ç”¨æ–¼ PowerPoint
```

#### å ´æ™¯ Bï¼šæ•¸æ“šåˆ†æ
```
éœ€æ±‚ï¼šç ”ç©¶åœ˜éšŠéœ€è¦åŸå§‹æ•¸æ“š
æ“ä½œï¼š
1. é¸æ“‡å¹´ä»½ï¼š2020-2024
2. é»æ“Šã€ŒğŸ“„ JSONã€æŒ‰éˆ•
3. æ–‡ä»¶åï¼šå‰äº”å¤§è¨ºæ–·_2020-2024_2025-10-29.json
çµæœï¼šJSON æ ¼å¼ï¼Œå¯ç”¨æ–¼ Python/R åˆ†æ
```

### ğŸ’¡ å°å‡ºæ ¼å¼

#### CSV æ ¼å¼ç¤ºä¾‹
```csv
æ’å,è¨ºæ–·,äººæ¬¡,ç™¾åˆ†æ¯”,è¶¨å‹¢,è®ŠåŒ–ç‡
1,"Viral sinusitis (disorder)",105,27.1%,ä¸Šå‡,15.3%
2,"Acute viral pharyngitis (disorder)",68,17.5%,ä¸‹é™,8.7%
3,"Acute bronchitis (disorder)",45,11.6%,ç©©å®š,0%
4,"Normal pregnancy",35,9.0%,æ–°å¢,100.0%
5,"Body mass index 30+ - obesity (finding)",34,8.8%,ä¸Šå‡,22.1%
```

#### JSON æ ¼å¼ç¤ºä¾‹
```json
{
  "metadata": {
    "exportDate": "2025-10-29T08:30:00.000Z",
    "yearRange": "2020-2024",
    "etlJobId": "all",
    "total": 387
  },
  "diagnoses": [
    {
      "rank": 1,
      "diagnosis": "Viral sinusitis (disorder)",
      "count": 105,
      "percentage": 27.1,
      "trend": {
        "direction": "up",
        "change": 15.3
      }
    },
    ...
  ]
}
```

### ğŸ”’ æ–‡ä»¶å‘½åè¦å‰‡
```
æ ¼å¼ï¼šå‰äº”å¤§è¨ºæ–·_{å¹´ä»½å€é–“}_{å°å‡ºæ—¥æœŸ}.{æ ¼å¼}

ç¤ºä¾‹ï¼š
- å‰äº”å¤§è¨ºæ–·_2020-2024_2025-10-29.csv
- å‰äº”å¤§è¨ºæ–·_2015-2019_2025-10-29.json
```

---

## ğŸ”„ åŠŸèƒ½ 4ï¼šå°æ¯”è¦–åœ–

### ğŸ“ˆ åŠŸèƒ½æè¿°
- å•Ÿç”¨å°æ¯”æ¨¡å¼ï¼Œä¸¦æ’é¡¯ç¤ºå…©å€‹å¹´ä»½å€é–“çš„è¨ºæ–·æ•¸æ“š
- æœŸé–“ Aï¼ˆè—è‰²ç³»ï¼‰vs æœŸé–“ Bï¼ˆæ©™è‰²ç³»ï¼‰
- ç¨ç«‹çš„å¹´ä»½é¸æ“‡å™¨
- é¡¯ç¤ºå„æœŸé–“ç¸½äººæ¬¡

### ğŸ¯ ä½¿ç”¨å ´æ™¯

#### å ´æ™¯ Aï¼šç–«æƒ…å‰å¾Œå°æ¯”
```
ç ”ç©¶ç›®æ¨™ï¼šåˆ†æ COVID-19 å°è¨ºæ–·æ¨¡å¼çš„å½±éŸ¿

æ“ä½œæ­¥é©Ÿï¼š
1. é»æ“Šã€Œå•Ÿç”¨å°æ¯”æ¨¡å¼ã€â˜‘ï¸
2. æœŸé–“ Aï¼š2020-2024ï¼ˆç–«æƒ…æœŸé–“ï¼‰
3. æœŸé–“ Bï¼š2015-2019ï¼ˆç–«æƒ…å‰ï¼‰
4. è§€å¯Ÿå…©å€‹åœ–è¡¨

ç™¼ç¾ï¼š
- å‘¼å¸é“ç–¾ç—…åœ¨æœŸé–“ A å¢åŠ  45%
- é é˜²æ€§æª¢æŸ¥åœ¨æœŸé–“ A æ¸›å°‘ 30%
- æ…¢æ€§ç—…ç®¡ç†æ¨¡å¼æ”¹è®Š
```

#### å ´æ™¯ Bï¼šé•·æœŸè¶¨å‹¢åˆ†æ
```
ç ”ç©¶ç›®æ¨™ï¼š10 å¹´é–“ç–¾ç—…æ¨¡å¼è®ŠåŒ–

æ“ä½œæ­¥é©Ÿï¼š
1. å•Ÿç”¨å°æ¯”æ¨¡å¼
2. æœŸé–“ Aï¼š2020-2024
3. æœŸé–“ Bï¼š2010-2014
4. åˆ†æè¨ºæ–·æ’åè®ŠåŒ–

æ´å¯Ÿï¼š
- æŸäº›ç–¾ç—…å¾å‰äº”å¤§æ¶ˆå¤±ï¼ˆé é˜²æˆåŠŸï¼‰
- æ–°çš„å¥åº·å•é¡Œå‡ºç¾ï¼ˆè€é½¡åŒ–ã€ç”Ÿæ´»æ–¹å¼ï¼‰
- é†«ç™‚æŠ€è¡“é€²æ­¥å½±éŸ¿è¨ºæ–·æº–ç¢ºæ€§
```

### ğŸ’¡ è¦–è¦ºå°æ¯”

#### å–®ä¸€è¦–åœ–ï¼ˆé è¨­ï¼‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å‰äº”å¤§è¨ºæ–·                â”‚
â”‚   2020 - 2024              â”‚
â”‚                             â”‚
â”‚   [æŸ±ç‹€åœ–]                  â”‚
â”‚                             â”‚
â”‚   è¶¨å‹¢åˆ†æ                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### å°æ¯”è¦–åœ–
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æœŸé–“ A         â”‚ æœŸé–“ B         â”‚
â”‚ 2020-2024     â”‚ 2015-2019     â”‚
â”‚               â”‚               â”‚
â”‚ [è—è‰²æŸ±ç‹€åœ–]  â”‚ [æ©™è‰²æŸ±ç‹€åœ–]  â”‚
â”‚               â”‚               â”‚
â”‚ ç¸½è¨ˆ: 387     â”‚ ç¸½è¨ˆ: 295     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ¨ é¡è‰²ä¸»é¡Œ

**æœŸé–“ Aï¼ˆè—è‰²ç³»ï¼‰**
- ä¸»è‰²ï¼š`rgba(37, 99, 235, 0.8)` - è—è‰²
- æ¬¡è‰²ï¼šç¶ è‰²ã€é»ƒè‰²ã€ç´…è‰²ã€ç´«è‰²
- èƒŒæ™¯ï¼šæ·ºè—è‰² `#eff6ff`

**æœŸé–“ Bï¼ˆæ©™è‰²ç³»ï¼‰**
- ä¸»è‰²ï¼š`rgba(234, 88, 12, 0.8)` - æ©™è‰²
- æ¬¡è‰²ï¼šç´«è‰²ã€ç²‰è‰²ã€å¤©è—è‰²ã€ç¶ è‰²
- èƒŒæ™¯ï¼šæ·ºæ©™è‰² `#fff7ed`

---

## ğŸ”§ æŠ€è¡“æ¶æ§‹

### å¾Œç«¯ API æ›´æ–°

#### ç«¯é»ï¼š`GET /api/analytics/top-conditions`

**æ–°å¢åƒæ•¸ï¼š**
```python
start_year: int  # é–‹å§‹å¹´ä»½ï¼ˆ2000-2100ï¼‰
end_year: int    # çµæŸå¹´ä»½ï¼ˆ2000-2100ï¼‰
```

**è¿”å›æ ¼å¼ï¼š**
```json
{
  "labels": ["è¨ºæ–·1", "è¨ºæ–·2", ...],
  "values": [105, 68, ...],
  "percentages": [27.1, 17.5, ...],
  "total": 387,
  "trends": [
    {"direction": "up", "change": 15.3},
    {"direction": "down", "change": -8.7},
    ...
  ]
}
```

**è¶¨å‹¢è¨ˆç®—é‚è¼¯ï¼š**
```python
# è¨ˆç®—ä¸Šä¸€æœŸé–“
year_span = end_year - start_year + 1
prev_start_year = start_year - year_span
prev_end_year = start_year - 1

# æ¯”è¼ƒå…©å€‹æœŸé–“çš„æ•¸æ“š
change_percent = ((current - previous) / previous) * 100

# åˆ¤æ–·è¶¨å‹¢
if change_percent > 5:   â†’ "up"
elif change_percent < -5: â†’ "down"
else:                     â†’ "stable"
```

### å‰ç«¯çµ„ä»¶æ›´æ–°

#### æ–°å¢ç‹€æ…‹
```javascript
const [comparisonMode, setComparisonMode] = useState(false);
const [compareStartYear, setCompareStartYear] = useState(2015);
const [compareEndYear, setCompareEndYear] = useState(2019);
const [compareTopConditions, setCompareTopConditions] = useState(null);
```

#### æ–°å¢å‡½æ•¸
```javascript
exportToCSV()   // å°å‡º CSV æ ¼å¼
exportToJSON()  // å°å‡º JSON æ ¼å¼
```

#### æ–°å¢ä¾è³´
```json
{
  "chartjs-plugin-datalabels": "^2.2.0"
}
```

---

## ğŸ“‹ ä½¿ç”¨æŒ‡å—

### åŸºæœ¬æ“ä½œ

#### 1. æŸ¥çœ‹ç™¾åˆ†æ¯”
```
ç›´æ¥æŸ¥çœ‹åœ–è¡¨ â†’ æŸ±ç‹€åœ–ä¸Šé¡¯ç¤ºç™¾åˆ†æ¯”
æ»‘é¼ æ‡¸åœ   â†’ é¡¯ç¤ºè©³ç´°ä¿¡æ¯ï¼ˆäººæ¬¡ + ç™¾åˆ†æ¯”ï¼‰
```

#### 2. åˆ†æè¶¨å‹¢
```
é¸æ“‡å¹´ä»½å€é–“ â†’ è‡ªå‹•è¨ˆç®—è¶¨å‹¢
æŸ¥çœ‹åœ–è¡¨ä¸‹æ–¹ â†’ è¶¨å‹¢åˆ†æé¢æ¿
è§€å¯Ÿç®­é ­é¡è‰² â†’ å¿«é€Ÿåˆ¤æ–·è®ŠåŒ–æ–¹å‘
```

#### 3. å°å‡ºæ•¸æ“š
```
é»æ“Šã€ŒğŸ“Š CSVã€  â†’ ä¸‹è¼‰ Excel å¯è®€æ ¼å¼
é»æ“Šã€ŒğŸ“„ JSONã€ â†’ ä¸‹è¼‰çµæ§‹åŒ–æ•¸æ“š
```

#### 4. å°æ¯”åˆ†æ
```
é»æ“Šã€Œå•Ÿç”¨å°æ¯”æ¨¡å¼ã€ â†’ é¡¯ç¤ºå¹´ä»½é¸æ“‡å™¨
è¨­å®šå…©å€‹æœŸé–“        â†’ è‡ªå‹•åŠ è¼‰æ•¸æ“š
ä¸¦æ’æŸ¥çœ‹åœ–è¡¨        â†’ ç›´è§€å°æ¯”å·®ç•°
```

### é€²éšæŠ€å·§

#### æŠ€å·§ 1ï¼šç–«æƒ…å½±éŸ¿åˆ†æ
```
1. å•Ÿç”¨å°æ¯”æ¨¡å¼
2. æœŸé–“ Aï¼š2020-2022ï¼ˆç–«æƒ…é«˜å³°ï¼‰
3. æœŸé–“ Bï¼š2017-2019ï¼ˆç–«æƒ…å‰ï¼‰
4. é‡é»é—œæ³¨å‘¼å¸é“ç–¾ç—…è®ŠåŒ–
```

#### æŠ€å·§ 2ï¼šå­£ç¯€æ€§åˆ†æ
```
1. ä¸å•Ÿç”¨å°æ¯”æ¨¡å¼
2. é¸æ“‡å–®ä¸€å¹´ä»½ï¼š2023-2023
3. è§€å¯Ÿè¶¨å‹¢ç®­é ­ï¼ˆèˆ‡ 2022 æ¯”è¼ƒï¼‰
4. å°å‡º CSV é€²è¡Œæ›´ç´°ç·»åˆ†æ
```

#### æŠ€å·§ 3ï¼šé•·æœŸè¶¨å‹¢è¿½è¹¤
```
1. å•Ÿç”¨å°æ¯”æ¨¡å¼
2. æœŸé–“ Aï¼š2020-2024ï¼ˆæœ€è¿‘ 5 å¹´ï¼‰
3. æœŸé–“ Bï¼š2010-2014ï¼ˆ10 å¹´å‰ï¼‰
4. åˆ†æç–¾ç—…è­œçš„æ¼”è®Š
```

---

## ğŸ¯ å¯¦éš›æ‡‰ç”¨æ¡ˆä¾‹

### æ¡ˆä¾‹ 1ï¼šé†«é™¢å¹´åº¦å ±å‘Š
```
èƒŒæ™¯ï¼šé†«é™¢éœ€è¦æº–å‚™å¹´åº¦å¥åº·å ±å‘Š

æ­¥é©Ÿï¼š
1. é¸æ“‡å¹´ä»½ï¼š2024-2024
2. æŸ¥çœ‹å‰äº”å¤§è¨ºæ–·åŠç™¾åˆ†æ¯”
3. é»æ“Šã€ŒğŸ“Š CSVã€å°å‡º
4. åœ¨ PowerPoint ä¸­ä½¿ç”¨æ•¸æ“š
5. å¼•ç”¨è¶¨å‹¢åˆ†æèªªæ˜å¹´åº¦è®ŠåŒ–

çµæœï¼š
âœ… æ¸…æ™°çš„æ•¸æ“šå¯è¦–åŒ–
âœ… å°ˆæ¥­çš„ Excel è¡¨æ ¼
âœ… è¶¨å‹¢åˆ†ææ”¯æŒæ±ºç­–
```

### æ¡ˆä¾‹ 2ï¼šå…¬å…±è¡›ç”Ÿç ”ç©¶
```
èƒŒæ™¯ï¼šç ”ç©¶ç–«æƒ…å°ç¤¾å€å¥åº·çš„å½±éŸ¿

æ­¥é©Ÿï¼š
1. å•Ÿç”¨å°æ¯”æ¨¡å¼
2. æœŸé–“ Aï¼š2020-2021ï¼ˆç–«æƒ…æœŸï¼‰
3. æœŸé–“ Bï¼š2018-2019ï¼ˆç–«æƒ…å‰ï¼‰
4. å°æ¯”è¨ºæ–·æ¨¡å¼è®ŠåŒ–
5. é»æ“Šã€ŒğŸ“„ JSONã€å°å‡ºåŸå§‹æ•¸æ“š
6. ä½¿ç”¨ Python é€²è¡Œæ·±åº¦åˆ†æ

ç™¼ç¾ï¼š
âœ… å‘¼å¸é“ç–¾ç—…å¢åŠ  67%
âœ… æ…¢æ€§ç—…è¿½è¹¤æ¸›å°‘ 23%
âœ… å¿ƒç†å¥åº·å•é¡Œä¸Šå‡ 89%
```

### æ¡ˆä¾‹ 3ï¼šé†«ç™‚è³‡æºè¦åŠƒ
```
èƒŒæ™¯ï¼šè¦åŠƒæœªä¾† 5 å¹´çš„é†«ç™‚è³‡æºé…ç½®

æ­¥é©Ÿï¼š
1. åˆ†æéå» 10 å¹´è¶¨å‹¢
   - æœŸé–“ Aï¼š2015-2019
   - æœŸé–“ Bï¼š2020-2024
2. è­˜åˆ¥ä¸Šå‡è¶¨å‹¢çš„ç–¾ç—…
3. å°å‡ºå®Œæ•´æ•¸æ“šé€²è¡Œé æ¸¬
4. åŸºæ–¼è¶¨å‹¢åˆ†é…è³‡æº

æ±ºç­–ä¾æ“šï¼š
âœ… æ•¸æ“šé©…å‹•çš„è³‡æºåˆ†é…
âœ… é æ¸¬æœªä¾†å¥åº·éœ€æ±‚
âœ… å„ªåŒ–é†«ç™‚æœå‹™æ•ˆç‡
```

---

## ğŸš€ æ•ˆèƒ½å„ªåŒ–

### å¿«å–æ©Ÿåˆ¶
```python
@cache_result(expire_seconds=600, key_prefix="top_conditions")
```
- å¿«å–æ™‚é–“ï¼š10 åˆ†é˜
- æ¸›å°‘è³‡æ–™åº«æŸ¥è©¢
- æå‡éŸ¿æ‡‰é€Ÿåº¦

### è³‡æ–™åº«å„ªåŒ–
- ä½¿ç”¨ç´¢å¼•ï¼š`onset_datetime`, `code_text`, `job_id`
- åˆ†çµ„æŸ¥è©¢å„ªåŒ–
- é™åˆ¶è¿”å›æ•¸é‡ï¼ˆlimit=5ï¼‰

---

## ğŸ“Š æ•¸æ“šä¾†æº

### FHIR Condition è³‡æº
```sql
SELECT 
  code_text,
  COUNT(*) as count,
  onset_datetime
FROM conditions
WHERE onset_datetime BETWEEN ? AND ?
GROUP BY code_text
ORDER BY count DESC
LIMIT 5
```

### è¶¨å‹¢è¨ˆç®—æŸ¥è©¢
```sql
-- ç•¶å‰æœŸé–“
SELECT COUNT(*) FROM conditions
WHERE code_text = ?
  AND onset_datetime BETWEEN current_start AND current_end

-- ä¸Šä¸€æœŸé–“
SELECT COUNT(*) FROM conditions
WHERE code_text = ?
  AND onset_datetime BETWEEN prev_start AND prev_end
```

---

## ğŸ” æ¬Šé™è¦æ±‚

æ‰€æœ‰åŠŸèƒ½éƒ½éœ€è¦èº«ä»½é©—è­‰ï¼š
```python
current_user: dict = Depends(get_current_user)
```

æ”¯æŒçš„è§’è‰²ï¼š
- âœ… **Admin**ï¼šå®Œæ•´è¨ªå•æ¬Šé™
- âœ… **Engineer**ï¼šå®Œæ•´è¨ªå•æ¬Šé™
- âœ… **Viewer**ï¼šåªè®€æ¬Šé™ï¼ˆæœªä¾†å¯æ“´å±•ï¼‰

---

## ğŸ› æ•…éšœæ’é™¤

### å•é¡Œ 1ï¼šç™¾åˆ†æ¯”ä¸é¡¯ç¤º
```
åŸå› ï¼šchartjs-plugin-datalabels æœªå®‰è£
è§£æ±ºï¼šnpm install chartjs-plugin-datalabels
```

### å•é¡Œ 2ï¼šè¶¨å‹¢é¡¯ç¤ºã€Œç„¡ã€
```
åŸå› ï¼šå¹´ä»½å€é–“å¤ªæ—©ï¼Œæ²’æœ‰ä¸Šä¸€æœŸé–“æ•¸æ“š
è§£æ±ºï¼šé¸æ“‡ 2005 å¹´ä»¥å¾Œçš„å¹´ä»½å€é–“
```

### å•é¡Œ 3ï¼šå°å‡ºæ–‡ä»¶ä¸­æ–‡äº‚ç¢¼
```
åŸå› ï¼šCSV æœªåŒ…å« BOM
è§£æ±ºï¼šå·²ä¿®å¾©ï¼Œå°å‡ºæ™‚è‡ªå‹•æ·»åŠ  BOM ('\uFEFF')
```

### å•é¡Œ 4ï¼šå°æ¯”æ¨¡å¼åœ–è¡¨é‡ç–Š
```
åŸå› ï¼šç€è¦½å™¨çª—å£éå°
è§£æ±ºï¼šä½¿ç”¨è¼ƒå¤§çš„é¡¯ç¤ºå™¨æˆ–èª¿æ•´ç€è¦½å™¨çª—å£å¤§å°
```

---

## ğŸ“ˆ æœªä¾†æ“´å±•

### è¨ˆåŠƒä¸­çš„åŠŸèƒ½

#### 1. PDF å ±å‘Šå°å‡º
```
åŠŸèƒ½ï¼šä¸€éµç”Ÿæˆå®Œæ•´çš„ PDF è¨ºæ–·å ±å‘Š
åŒ…å«ï¼šåœ–è¡¨ã€è¶¨å‹¢åˆ†æã€çµ±è¨ˆæ•¸æ“š
```

#### 2. é›»å­éƒµä»¶åˆ†äº«
```
åŠŸèƒ½ï¼šç›´æ¥é€šééƒµä»¶ç™¼é€å ±å‘Š
æ”¶ä»¶äººï¼šç®¡ç†å±¤ã€ç ”ç©¶åœ˜éšŠ
```

#### 3. è‡ªå‹•åŒ–å ±è­¦
```
åŠŸèƒ½ï¼šè¨ºæ–·äººæ¬¡ç•°å¸¸å¢é•·æ™‚è‡ªå‹•é€šçŸ¥
é–¾å€¼ï¼šè¶…é 50% å¢é•·
```

#### 4. å¤šç¶­åº¦åˆ†æ
```
åŠŸèƒ½ï¼šæŒ‰å¹´é½¡ã€æ€§åˆ¥ã€åœ°å€åˆ†çµ„
å°æ¯”ï¼šä¸åŒäººç¾¤çš„è¨ºæ–·æ¨¡å¼
```

#### 5. AI é æ¸¬
```
åŠŸèƒ½ï¼šåŸºæ–¼æ­·å²æ•¸æ“šé æ¸¬æœªä¾†è¶¨å‹¢
æ¨¡å‹ï¼šæ™‚é–“åºåˆ—åˆ†æ
```

---

## ğŸ“ æ›´æ–°æ—¥èªŒ

### v2.0.0 (2025-10-29)

#### æ–°å¢åŠŸèƒ½
- âœ… ç™¾åˆ†æ¯”é¡¯ç¤ºåœ¨æŸ±ç‹€åœ–ä¸Š
- âœ… è¶¨å‹¢ç®­é ­ï¼ˆå¹´åº¦å°æ¯”åˆ†æï¼‰
- âœ… CSV/JSON å°å‡ºåŠŸèƒ½
- âœ… å°æ¯”è¦–åœ–æ¨¡å¼

#### æ”¹é€²
- âœ… å¾Œç«¯ API å¢å¼·ï¼ˆpercentages, trendsï¼‰
- âœ… å¿«å–æ©Ÿåˆ¶å„ªåŒ–
- âœ… UI/UX æ”¹é€²

#### æŠ€è¡“å‚µå‹™
- âœ… æ·»åŠ  chartjs-plugin-datalabels ä¾è³´
- âœ… é‡æ§‹åœ–è¡¨é…ç½®é‚è¼¯
- âœ… å„ªåŒ–è³‡æ–™åº«æŸ¥è©¢

---

## ğŸ™ è‡´è¬

æ„Ÿè¬ä»¥ä¸‹é–‹æºé …ç›®ï¼š
- **Chart.js** - å¼·å¤§çš„åœ–è¡¨åº«
- **chartjs-plugin-datalabels** - æ•¸æ“šæ¨™ç±¤æ’ä»¶
- **React** - UI æ¡†æ¶
- **FastAPI** - å¾Œç«¯æ¡†æ¶
- **PostgreSQL** - è³‡æ–™åº«

---

## ğŸ“ æŠ€è¡“æ”¯æ´

å¦‚æœ‰å•é¡Œæˆ–å»ºè­°ï¼Œè«‹è¯ç¹«ï¼š
- **GitHub Issues**: [æäº¤å•é¡Œ](https://github.com/Lusnaker0730/BeckAPP/issues)
- **æ–‡æª”**: æŸ¥çœ‹ `API_DOCUMENTATION.md`
- **æ¸¬è©¦**: é‹è¡Œ `npm test` å’Œ `pytest`

---

## ğŸ“œ æˆæ¬Š

æœ¬åŠŸèƒ½éµå¾ªé …ç›®ä¸»æˆæ¬Šå”è­°ã€‚

---

**é–‹ç™¼å®Œæˆæ—¥æœŸ**: 2025-10-29  
**ç‰ˆæœ¬**: 2.0.0  
**ç‹€æ…‹**: âœ… ç”Ÿç”¢å°±ç·’  
**æ¸¬è©¦**: âœ… é€šéæ‰€æœ‰æ¸¬è©¦  
**æ–‡æª”**: âœ… å®Œæ•´

